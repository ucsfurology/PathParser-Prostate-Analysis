# Automating the Capture of Structured Pathology Data for Urologic Oncology Clinical Care and Research

Anobel Y. Odisho, MD MPH, Mark Bridge, MS, Mitchell Webb, MBA, Niloufar Ameli, MS, Renu S. Eapen, MD, Frank Stauf, Janet E. Cowan, MS, Samuel L. Washington III, MD, Annika Herlemann, MD, Peter R. Carroll, MD MPH, Matthew R. Cooperberg, MD MPH

Department of Urology, University of California, San Francisco, Helen Diller Family Comprehensive Cancer Center

## Introduction
Cancer pathology findings are critical for many aspects of care but are often locked away as unstructured free-text. We report a hybrid approach using a natural language processing (NLP) information extraction pipeline for prostate pathology details from pathology reports combined with structured data entry integrated into routine care. We compare concordance between NLP, structured data entry, and manual abstraction.

## Materials and Methods
From February 2016, clinicians used note templates with custom Smart Data Elements (SDEs) during routine clinical care for men with prostate cancer. We developed an NLP information extraction system to parse pathology reports and extract structured data. We compare accuracy and concordance of clinician-entered SDEs, NLP parsed data, and manually abstracted data.

## Results
There were 523 patients with NLP extracted data, 319 with SDE data, 555 with manually abstracted data, and 182 from all three. For Gleason scores, clinician SDE and NLP accuracy was 95.6% and 95.8%, respectively, compared to manual abstraction, with Cohen’s kappa 0.93 (95% CI 0.90 – 0.97). For margin status, extracapsular extension, and seminal vesicle invasion, SDEs accuracy was 93.8 – 96.6% and NLP accuracy was 93.1-93.8%, with Cohen’s kappa ranging from 0.79 to 0.96.

## Conclusion
We show that natural language processing of prostate pathology reports combined with structured data entry by clinicians during routine clinical care can be integrated to generate high-quality structured data in a production environment in a busy clinical practice. 

# Repository Info

This repository contains the analytic and reporting files for the above project.

## Description of Files
- `path_prostate_clean.R`: imports raw data from parser, SDEs, and manual entry table in database, prepares for analysis

- `compare_functions.r`: functions used to compare results from any two sets of data sources (SDE compared to manual abstraction, for example), and all three sources together.

- `PathParsingReport.rmd`: uses data file generated by `path_prostate_clean.r`, performs data analysis, generates final data tables used for manuscript.
