# Automating the Capture of Structured Data for Surgical Oncology Clinical Care and Research

Anobel Y. Odisho, MD MPH, Mark Bridge, MS, Mitchell Webb, MBA, Niloufar Ameli, MS, Renu S. Eapen, MD, Frank Stauf, Janet E. Cowan, MS, Samuel L. Washington III, MD, Annika Herlemann, MD, Peter R. Carroll, MD MPH, Matthew R. Cooperberg, MD MPH

Department of Urology, University of California, San Francisco, Helen Diller Family Comprehensive Cancer Center

## Objective
Cancer pathology findings are critical for many aspects of care but are often locked away as unstructured free-text. We report a hybrid approach using an information extraction pipeline for prostate pathology details from pathology reports combined with structured data entry integrated into routine care. We compare accuracy to manual abstraction.

## Materials and Methods
From February 2016, clinicians used note templates with custom Smart Data Elements (SDEs) during routine clinical care for men with prostate cancer. We developed an NLP information extraction system to parse pathology reports and extract structured data. We compare accuracy of clinician-entered SDEs, parsed data, and manually abstracted data.

## Results
There were 460 patients with parsed data, 289 with SDEs, 346 with manually abstracted data, and 93 from all three. For Gleason scores, clinician SDE and NLP accuracy was 96.5% and 98.0%, respectively, compared to manual abstraction. For margin status, extracapsular extension, and seminal vesicle invasion, SDEs accuracy was 96-99% and NLP accuracy was 97-99%. 

## Discussion
We show that a rule-based approach combined with structured data entry by clinicians integrated into routine clinical care provides superior accuracy than manual data abstraction. This hybrid paradigm overcomes limitations of pure NLP and human entry, which independently do not achieve adequate accuracy for clinical research. 

## Conclusion
Combined use of SDEs during routine clinical care and rule-based information extraction provide highly accurate data extraction. Since February 2018, these SDEs have been incorporated into the Epic Foundation repository, allowing any facility using EPIC EHR to implement them.

# Repository Info

This repository contains the analytic and reporting files for the above project.

## Description of Files
- `path_prostate_clean.R`: imports raw data from parser, SDEs, and manual entry table in database, prepares for analysis

- `compare_functions.r`: functions used to compare results from any two sets of data sources (SDE compared to manual abstraction, for example), and all three sources together.

- `PathParsingReport.rmd`: uses data file generated by `path_prostate_clean.r`, performs data analysis, generates final data tables used for manuscript.
